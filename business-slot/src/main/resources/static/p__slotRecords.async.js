"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[767],{31201:function(P,f,t){t.r(f),t.d(f,{clientLoader:function(){return A},default:function(){return Q}});var p=t(90228),m=t.n(p),h=t(87999),R=t.n(h),B=t(93236),g=t(84750),s=t(35482),y={title:"title___da7Wv"},C=t(84548),L=t(71647),x=t(88014),r=t(62086),D=function(n){var l=n.onDelete,e=n.slotRecords,c=[{title:"\u63A8\u9001\u7C7B",dataIndex:"beanClassName"},{title:"\u53C2\u6570",dataIndex:"param"},{title:"Actions",render:function(o,i){return(0,r.jsx)(C.Z,{title:"Delete?",onConfirm:function(){return l(i.id)},children:(0,r.jsx)(L.ZP,{children:"Delete"})})}}];return(0,r.jsx)(x.Z,{rowKey:"id",dataSource:e,columns:c,pagination:{position:["bottomCenter"]}})},j=D,F="/flex",S={"/records":"/slot/record/list"},T=function(n){return F+S[n]},Z=T;function Q(){var a=(0,s.useClientLoaderData)(),n=a.data;console.log("slotRecordList",n);var l=(0,s.useQueryClient)(),e=(0,s.useQuery)(["slotRecords"],{queryFn:function(){var o="/records",i=Z(o);console.log("env:","production"),console.log("slotRecordList",i);var v=g.Z.get(i).then(function(N){return N.data});return console.log("slotRecordList",v),v}}),c=(0,s.useMutation)({mutationFn:function(o){return g.Z.delete("/api/slot/record/".concat(o))},onSettled:function(){l.invalidateQueries({queryKey:["slotRecords"]})}});return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:y.title,children:"\u63A8\u9001\u5F02\u5E38\u8BB0\u5F55"}),(0,r.jsx)(j,{slotRecords:e.data,onDelete:function(o){c.mutate(o)}})]})}function A(){return d.apply(this,arguments)}function d(){return d=R()(m()().mark(function a(){var n;return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/records");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},a)})),d.apply(this,arguments)}}}]);
